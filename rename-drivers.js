const fs = require('fs');
const path = require('path');

function renameDriverFiles() {
  const driversPath = './static/code/drivers';
  let renamedCount = 0;
  
  function processDirectory(dir) {
    const files = fs.readdirSync(dir);
    
    for (const file of files) {
      const fullPath = path.join(dir, file);
      const stat = fs.statSync(fullPath);
      
      if (stat.isDirectory()) {
        processDirectory(fullPath);
      } else if (file.endsWith('.txt')) {
        // Skip readme and test files
        if (file.includes('readme') || file.includes('test')) {
          console.log(`‚è≠Ô∏è  Skipped: ${fullPath} (readme/test file)`);
          continue;
        }
        
        const newPath = fullPath.replace('.txt', '.due');
        fs.renameSync(fullPath, newPath);
        renamedCount++;
        console.log(`‚úÖ Renamed: ${fullPath} ‚Üí ${newPath}`);
      }
    }
  }
  
  processDirectory(driversPath);
  console.log(`\nüìä Summary: Renamed ${renamedCount} driver files from .txt to .due`);
}

renameDriverFiles();