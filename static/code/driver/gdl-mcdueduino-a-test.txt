##### DueDuino Test #####

fn Rset()
    cmd("reset(0)") # reset my client
    reset(0) # reset myself
fend

statled(100,100,0) # this make sure using power led still blink without USB connected

fn Test()
    Wait(1)
    dlmode(2,0)
    Wait(10)
    cmd("sel(1)")
    cmd("Clear(0)")
    cmd("TextS(\"Starting test...\", 1, 0, 0, 1,2)")
    cmd("Show()") 
    println("Starting test...")
    
    p = 0
    s = 0
    
    while (1)
        p = dread(BtnPin(),2) 
        
        if (s != p)
            s = p
            cmd("Clear(0)")
            If (s)      
                println("Btn pressed")
                cmd(fmt("TextS(\"Btn pressed\", 1, 0, 20, 1,2)"))
            else
                cmd(fmt("TextS(\"Btn released\", 1, 0, 20, 1,2)"))
                println("Btn released")
            end
            
             cmd("Show()") 
        end
        
        Wait(10)   
    wend
fend
 
#########################

