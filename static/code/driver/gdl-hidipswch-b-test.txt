##### Dipswitch Test #####

fn Rset()
    cmd("reset(0)") # reset my client
    reset(0) # reset myself
fend

fn Test()
    println("Starting test...")
    Wait(1)
    dlmode(2,0)
    Wait(10)
    cmd("sel(1)")
    while 1 
        cmd("Clear(0)")
        for i=0 to 10
            if (Read(i+1) != 0)    
                
                if i % 2 = 0
                    cmd(fmt("TextS(\"Pos ",(i+1),":On\",1,0,",i*7 ,",1,1)"))
                else
                    cmd(fmt("TextS(\",Pos ",(i+1),":On\",1,60,",(i-1)*7 ,",1,1)"))
                end
                
                println(fmt("Pos ", (i+1), ": On"))
            else 
                if i % 2 = 0
                    cmd(fmt("TextS(\"Pos ",(i+1),":off\",1,0,",i*7 ,",1,1)"))
                else 
                    cmd(fmt("TextS(\",Pos ",(i+1),":off\",1,60,",(i-1)*7 ,",1,1)"))
                end
                println(fmt("Pos ", (i+1), ": Off"))
            end
        next
        
        cmd("Show()") 
 
        Wait(1000)        
    wend
    
fend  