##### Motion Test #####

fn Rset()
    cmd("reset(0)") # reset my client
    reset(0) # reset myself
fend

fn Test()
    println("Starting test...")
    Wait(1)
    dlmode(2,0)
    Wait(10)
    cmd("sel(1)")
 
    s = 0
    v = 0
    while 1
        # Check only one pixel
        v = Detect()
 
        if (s != v)
            
            s = v
            cmd("Clear(0)")
            if (v)
                cmd("TextS(\"Motion detected!\", 1, 0, 0, 1,2)")
            else
                cmd("TextS(\"No motion\", 1, 0, 0, 1,2)")
            end
            cmd("Show()") 
            println(v)
        
        end
        
        wait(500)
 
    wend
 
fend  

####################