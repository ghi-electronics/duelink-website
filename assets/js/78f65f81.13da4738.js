"use strict";(self.webpackChunkduelink=self.webpackChunkduelink||[]).push([[2846],{3665:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>t,default:()=>l,frontMatter:()=>c,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"engine/coprocessor","title":"Coprocessor","description":"---","source":"@site/docs/engine/coprocessor.mdx","sourceDirName":"engine","slug":"/engine/coprocessor","permalink":"/docs/engine/coprocessor","draft":false,"unlisted":false,"editUrl":"https://github.com/ghi-electronics/duelink-website/tree/dev/docs/engine/coprocessor.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Stream","permalink":"/docs/engine/stream"},"next":{"title":"IoT Cloud","permalink":"/docs/iot/intro"}}');var n=s(4848),i=s(8453);const c={},t="Coprocessor",d={},a=[{value:"Firmware Control",id:"firmware-control",level:2},{value:"Application Command",id:"application-command",level:3}];function h(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"coprocessor",children:"Coprocessor"})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.p,{children:"Some modules require a coprocessor that handles specific tasks. The DUELink's engine includes facilities to help with updating the coprocessor's firmware and also includes special commands for cross-chip communication."}),"\n",(0,n.jsxs)(r.p,{children:["Specific module's ",(0,n.jsx)(r.a,{href:"./drivers",children:"Drivers"})," are always included to simplify the use of the coprocessor. These functions are provided for reference only."]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"firmware-control",children:"Firmware Control"}),"\n",(0,n.jsx)(r.p,{children:"These functions are provided to update the firmware running on the coprocessor."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Function"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocE()"})}),(0,n.jsx)(r.td,{children:"Erase entire flash on coprocessor."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocP()"})}),(0,n.jsx)(r.td,{children:"Upload application (firmware), use XModem 1K protocol."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocS()"})}),(0,n.jsx)(r.td,{children:"Reset coprocessor."})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["The upload command simply opens up an xmodem 1K transfer through the main micro. Once ",(0,n.jsx)(r.code,{children:"CoprocP()"})," is called, the system will start sending ",(0,n.jsx)(r.code,{children:"CCCCC..."})," back indicating the coprocessor is ready for the new firmware. Any xmodem software, including TeraTerm, can be used to send the firmware. Do not forget to select the 1K option."]}),"\n",(0,n.jsx)(r.p,{children:"The other two commands are for erasing the firmware and for resetting the coprocessor."}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h3,{id:"application-command",children:"Application Command"}),"\n",(0,n.jsx)(r.p,{children:"Once a coprocessor firmware is loaded, these commands provide means of data transfer between the system's main micro and the coprocessor."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Function"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocV()"})}),(0,n.jsx)(r.td,{children:"Returns current firmware version on coprocessor."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocW([data])"})}),(0,n.jsx)(r.td,{children:"Write a byte array to coprocessor."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"CoprocR([data])"})}),(0,n.jsx)(r.td,{children:"Read byte array from coprocessor."})]})]})]}),"\n",(0,n.jsx)(r.admonition,{type:"tip",children:(0,n.jsx)(r.p,{children:"These functions are used by us to build drivers that you can simply use. We are documenting these here for reference only."})})]})}function l(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);